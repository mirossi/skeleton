

<div class="panel panel-default">
 <div class="panel-heading">
   <h1 class="panel-title"><strong>Alle Shops</strong></h1></div>
  <div class="panel-body">

<div class="list-group">

     <% @shops.each do |shop| %>
  <div class="listitem" resItem=<%=  url_for :controller => 'shops', :action => 'destroy', :id => shop.id   %>>
  <a href="<%=  url_for :controller => 'shops', :action => 'edit', :id => shop.id   %>" class="list-group-item">
    <h4 class="list-group-item-heading"><%= shop.name %></h4>
      <div class="list-group-item-text" style="padding-left: 20px; padding-top: 5px;">
        <table>
          <tr><td style="width:70px">Adresse:</td>
            <td><%=   shop.street.nil? ? ' ' : shop.street %></td></tr>
          <tr><td></td><td> <%=   shop.zipcode.nil? ? '   ' : shop.zipcode %>   <%=   shop.city.nil? ? ' ' : shop.city %></td></tr>
          <tr><td>Land:</td><td><%=   shop.country_code.nil? ? '   ' :  Country[shop.country_code] %> </td>
          </tr>
          
         </table>      
      </div>
      
      </a>
          </div>
     <% end %>
</div>
    
    </div>
</div>





<div id="myContextMenu" class="dropdown clearfix">
    <ul class="dropdown-menu"  role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
        <li><a tabindex="-1"    id="edit_item" href="#">editieren</a></li>
        <li><a tabindex="-1"  data-method="delete"  id="delete_item" href="#">l√∂schen</a></li>
      <li><a tabindex="-1" id="delete_item" href="<%=  new_shop_path %>">neuer shop</a></li>
    </ul>
</div>



<script>
  $(document).click(function () {
    $contextMenu.hide();
});
  
  var $contextMenu = $("#myContextMenu");
var $rowClicked;
  
  
$("body").on("contextmenu", ".listitem", function (e) {
    $rowClicked = $(this)
    $contextMenu.css({
        display: "block",
        left: e.clientX,
        top: e.clientY
    });
   $("#edit_item").attr('href', $rowClicked.attr("resItem")+"/edit")
   $("#delete_item").attr('href', $rowClicked.attr("resItem"))
    return false;
});

$contextMenu.on("click", "a", function () {
    $contextMenu.hide();
});

$(document).click(function () {
    $contextMenu.hide();
});
</script>